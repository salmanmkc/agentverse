# Copyright 2025 CNOE
# SPDX-License-Identifier: Apache-2.0
# Generated by CNOE OpenAPI MCP Codegen tool

"""Tools for /api/v1/notifications/services operations"""

import logging
from typing import Dict, Any
from mcp_argocd.api.client import make_api_request, assemble_nested_body

# Configure logging
logging.basicConfig(level=logging.DEBUG)
logger = logging.getLogger("mcp_tools")


async def notification_service__list_services() -> Dict[str, Any]:
    '''
    List available notification services.

    This function makes an asynchronous GET request to the '/api/v1/notifications/services' endpoint
    to retrieve a list of notification services available in the system.

    Args:
        None

    Returns:
        Dict[str, Any]: A dictionary containing the JSON response from the API call, which includes
        details of the notification services. If the request fails, the dictionary will contain an
        'error' key with the error message.

    Raises:
        Exception: If the API request fails or returns an error, an exception is raised with the
        error details.
    '''
    logger.debug("Making GET request to /api/v1/notifications/services")

    params = {}
    data = {}

    flat_body = {}
    data = assemble_nested_body(flat_body)

    success, response = await make_api_request(
        "/api/v1/notifications/services", method="GET", params=params, data=data
    )

    if not success:
        logger.error(f"Request failed: {response.get('error')}")
        return {"error": response.get("error", "Request failed")}
    return response